<div class=" account-edit-container"> 
    <div class="card" *ngIf="user">
    <div class="card-header">
      <h3>Edit Profile</h3>
    </div>
    <div class="card-body">
      <form #userForm="ngForm" (ngSubmit)="onSubmit()">
        <div class="mb-3">
          <app-input-img [title]="'Profile Picture'" 
                        [imageURL]="authService.getFullImageUrl(user.profilePicture)"
                        (selectedFile)="onImageSelected($event)">
          </app-input-img>
        </div>
        <div class="mb-3">
          <label for="fullName" class="form-label">Full Name</label>
          <input type="text" 
                 class="form-control" 
                 id="fullName" 
                 name="fullName"
                 [(ngModel)]="user.fullName" 
                 required>
        </div>
        <div class="mb-3">
          <label for="username" class="form-label">Username</label>
          <input type="text" 
                 class="form-control" 
                 id="username" 
                 name="username"
                 [(ngModel)]="user.username" 
                 required>
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Email</label>
          <input type="email" 
                 class="form-control" 
                 id="email" 
                 name="email"
                 [(ngModel)]="user.email" 
                 required>
        </div>
        <div class="mb-3">
          <label for="birthDate" class="form-label">Birth Date</label>
          <input type="date" 
                 class="form-control" 
                 id="birthDate" 
                 name="birthDate"
                 [ngModel]="formatDate(user.birthDate)"
                 (ngModelChange)="onBirthDateChange($event)"
                 required>
        </div>
        <div class="d-flex gap-2">
          <button type="submit" mat-raised-button color="primary">
            <mat-icon>save</mat-icon>
            Save Changes
          </button>
          <button type="button" mat-raised-button (click)="cancel()">
            <mat-icon>cancel</mat-icon>
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
