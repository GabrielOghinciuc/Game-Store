<div class="container" style="margin-top: 70px;">
    <h2>Add New Game</h2>
    <form [formGroup]="gameForm" (ngSubmit)="onSubmit()">
      <div class="mb-3">
        <label for="name" class="form-label">Game Name</label>
        <input type="text" 
               class="form-control" 
               [class.is-invalid]="gameForm.get('name')?.invalid && gameForm.get('name')?.touched"
               id="name" 
               formControlName="name">
        <div class="invalid-feedback" *ngIf="gameForm.get('name')?.invalid && gameForm.get('name')?.touched">
          Game name is required
        </div>
      </div>
     
      <div class="mb-3">
        <label for="description" class="form-label">Description</label>
        <textarea class="form-control"
                  [class.is-invalid]="gameForm.get('description')?.invalid && gameForm.get('description')?.touched"
                  id="description" 
                  formControlName="description"></textarea>
        <div class="invalid-feedback" *ngIf="gameForm.get('description')?.invalid && gameForm.get('description')?.touched">
          Description is required
        </div>
      </div>
  
      <div class="mb-3">
        <app-input-img
          [title]="'Game Image'"
          (selectedFile)="onImageSelected($event)"
          [class.is-invalid]="gameForm.get('picture')?.invalid && gameForm.get('picture')?.touched">
        </app-input-img>
        <div class="invalid-feedback" *ngIf="gameForm.get('picture')?.invalid && gameForm.get('picture')?.touched">
          Game image is required
        </div>
      </div>
  
      <div class="mb-3">
        <label for="originalPrice" class="form-label">Original Price</label>
        <input type="number" 
               class="form-control"
               [class.is-invalid]="gameForm.get('originalPrice')?.invalid && gameForm.get('originalPrice')?.touched"
               id="originalPrice" 
               formControlName="originalPrice">
        <div class="invalid-feedback" *ngIf="gameForm.get('originalPrice')?.invalid && gameForm.get('originalPrice')?.touched">
          <span *ngIf="gameForm.get('originalPrice')?.errors?.['required']">Original price is required</span>
          <span *ngIf="gameForm.get('originalPrice')?.errors?.['min']">Original price must be greater than 0</span>
        </div>
      </div>
  
      <div class="mb-3">
        <label for="discountedPrice" class="form-label">Discounted Price</label>
        <input type="number" 
               class="form-control"
               [class.is-invalid]="gameForm.get('discountedPrice')?.invalid && gameForm.get('discountedPrice')?.touched"
               id="discountedPrice" 
               formControlName="discountedPrice">
        <div class="invalid-feedback" *ngIf="gameForm.get('discountedPrice')?.invalid && gameForm.get('discountedPrice')?.touched">
          <span *ngIf="gameForm.get('discountedPrice')?.errors?.['min']">Discounted price must be greater than or equal to 0</span>
        </div>
      </div>

      <div class="mb-3">
        <label for="rating" class="form-label">Rating (1-5)</label>
        <input type="number" 
               class="form-control"
               [class.is-invalid]="gameForm.get('rating')?.invalid && gameForm.get('rating')?.touched"
               id="rating" 
               formControlName="rating"
               min="1"
               max="5">
        <div class="invalid-feedback" *ngIf="gameForm.get('rating')?.invalid && gameForm.get('rating')?.touched">
          Rating must be between 1 and 5
        </div>
      </div>

      <div class="mb-3">
        <label for="genre" class="form-label">Genre</label>
        <input type="text" 
               class="form-control"
               [class.is-invalid]="gameForm.get('genre')?.invalid && gameForm.get('genre')?.touched"
               id="genre" 
               formControlName="genre">
        <div class="invalid-feedback" *ngIf="gameForm.get('genre')?.invalid && gameForm.get('genre')?.touched">
          Genre is required
        </div>
      </div>

      <div class="mb-3">
        <label for="platforms" class="form-label">Platforms (comma-separated)</label>
        <input type="text" 
               class="form-control"
               [class.is-invalid]="gameForm.get('platforms')?.invalid && gameForm.get('platforms')?.touched"
               id="platforms" 
               formControlName="platforms"
               placeholder="PC, PS5, Xbox">
        <div class="invalid-feedback" *ngIf="gameForm.get('platforms')?.invalid && gameForm.get('platforms')?.touched">
          At least one platform is required
        </div>
      </div>

      <div class="mb-3 form-check">
        <input type="checkbox" class="form-check-input" id="showOnFirstPage" formControlName="showOnFirstPage">
        <label class="form-check-label" for="showOnFirstPage">Show on homepage</label>
      </div>

      <div class="mb-3 form-check">
        <input type="checkbox" class="form-check-input" id="showFullDescription" formControlName="showFullDescription">
        <label class="form-check-label" for="showFullDescription">Show full description</label>
      </div>

      <button type="submit" class="btn btn-primary">Add Game</button>
    </form>
  </div>  